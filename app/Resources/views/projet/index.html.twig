{% extends 'layoutAdmin.html.twig' %}

{% block body %}
    <h1>Liste des projets</h1>
 
        <dl>
        <dt>
            <a href="{{ path('projet_new') }}" class="btn">
                Nouveau projet
            </a>
          
        </dt>
       
    </dl>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
               
                <th>Datedebut</th>
                <th>Datefin</th>
                <th>Description</th>
                <th>Cout</th>
                <th>Statut</th>
                <th>Adresse</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for projet in projets %}
            <tr>
             
                <td>{% if projet.dateDebut %}{{ projet.dateDebut|date('Y-m-d') }}{% endif %}</td>
                <td>{% if projet.dateFin %}{{ projet.dateFin|date('Y-m-d') }}{% endif %}</td>
                <td>{{ projet.description|length > 100 ? projet.description|slice(0, 100) ~ '...' : projet.description  }}</td>
                <td>{{ projet.cout }}</td>
                <td>{{ projet.statut }}</td>
                <td>{{ projet.adresse }}</td>
                <td>
                    <a href="{{ path('projet_show', { 'id': projet.id }) }}"><i class="icon-book"></i></a>
                    <a href="{{ path('projet_edit', { 'id': projet.id }) }}"><i class="icon-edit"></i></a>
                   
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
        <script src="{{asset('http://code.jquery.com/jquery-2.1.3.min.js')}}"></script>

			<script>

                                 if(window.Notification && Notification.permission !== "denied") {
                            Notification.requestPermission(function(status) {  
                            var n = new Notification('Notification', { 
                            body: 'you have a new project',
                            icon: 'images/message.png' 
		}); 
	});
}
</script>

    
{% endblock %}
